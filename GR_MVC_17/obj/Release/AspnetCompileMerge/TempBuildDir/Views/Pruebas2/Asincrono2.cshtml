
@{
    ViewBag.Title = "Asincrono2";
}

<h2 style="text-align:center">Pruebas C# JavaScript y Ajax</h2>

<div class="row">

    <div class="col-md-4">

        @using (Html.BeginForm("Duplicador_CS", "Pruebas2", FormMethod.Post))
        {
            <div class="form-group">
                <span>Cantidad a duplicar:</span><input type="number" name="cantidad_cs" class="form-control" />
                <br />
                <input type="submit" value="Duplicar" class="btn btn-group" />
                <br />
                <br />
                <div><span>Resultado:</span>@ViewBag.Duplicado</div>

            </div>

        }


    </div>


    <div class="col-md-4">

        <div class="form-group">

            <span>Cantidad a duplicar:</span><input type="number" id="cantidad_js" class="form-control" />
            <input type="button" value="Duplicar" id="btnDuplicar" class="btn btn-danger" />
            <span>Resultado:</span><div id="res_js"></div>

        </div>

    </div>



    <div class="col-md-4">

        @using (Ajax.BeginForm("Duplicador_Ajax","Pruebas2",
            new AjaxOptions()
            {
                HttpMethod = "POST",
                InsertionMode = InsertionMode.Replace,
                UpdateTargetId = "res_ajax"
            }
                ))
        {

            <span>Cantidad a duplicar:</span><input type="number" id="cantidad_ajax" name="cant_ajax" class="form-control" />
            <input type="submit" value="Duplicar" id="btnAjax" class="btn btn-block" />
            <span>Resultado:</span><div id="res_ajax"></div>
        }

    </div>


</div>














@section scripts{
    <script src="~/Scripts/jquery.unobtrusive-ajax.js"></script>
    <script>

        $(function () {

            $("#btnDuplicar").click(function () {

                var cantidad = document.getElementById("cantidad_js").value;
                var resultado = duplicar(cantidad);
                document.getElementById("res_js").innerHTML = resultado;

            })

            function duplicar(cant) {
                return cant * 2;
            }

        });





    </script>
}






